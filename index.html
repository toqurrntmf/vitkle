<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>secret sale</title>
  <style>
    :root{
      --bg:#Fceae6;        /* 배경 연핑크 */
      --box:#f0a085;       /* 타일 살구색 */
      --text:#ffffff;      /* 숫자색 */
      --title:#0d0d0d;     /* 제목 */
      --sub:#555555;       /* 보조텍스트 */
      --shadow:0 6px 16px rgba(0,0,0,.06);
      --radius:14px;
      --gap:14px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; background:var(--bg);
      font-family: Pretendard, -apple-system, BlinkMacSystemFont, "Segoe UI",
                   Roboto, "Noto Sans KR", "Apple SD Gothic Neo", sans-serif;
      color:var(--title);
      display:flex; align-items:center; justify-content:center; min-height:100vh;
    }
    .wrap{ text-align:center; padding:48px 20px }
    h1{ margin:0 0 8px; font-size:clamp(18px,3.2vw,28px); font-weight:800 }
    .subhead{ margin:0 0 28px; font-size:clamp(14px,2.4vw,18px); font-weight:700 }
    .timer{
      display:flex; align-items:center; justify-content:center; gap:clamp(10px,2.3vw,18px);
    }
    .digit{
      width:clamp(60px,10.5vw,110px);
      height:clamp(70px,11.5vw,120px);
      border-radius:var(--radius);
      background:var(--box);
      color:var(--text);
      display:grid; place-items:center;
      font-weight:800;
      font-size:clamp(40px,10vw,76px);
      letter-spacing:.04em;
      box-shadow:var(--shadow);
      user-select:none;
    }
    .sep{
      font-size:clamp(36px,8.5vw,66px);
      font-weight:900;
      color:#111; opacity:.9;
      padding:0 .1em;
      user-select:none;
    }
    .note{
      margin-top:18px;
      color:var(--sub);
      font-size:clamp(12px,2.2vw,14px);
    }
  </style>
</head>
<body>
  <main class="wrap">
    <h1>⏳ 단 하루, 선착순 할인 특가! ⏳</h1>
    <p class="subhead">남은 시간</p>

    <!-- HH:MM:SS (각 숫자 = 독립 타일) -->
    <div class="timer" aria-label="24시간 카운트다운" role="timer">
      <div class="digit" id="h1">2</div>
      <div class="digit" id="h2">4</div>
      <div class="sep">:</div>
      <div class="digit" id="m1">0</div>
      <div class="digit" id="m2">0</div>
      <div class="sep">:</div>
      <div class="digit" id="s1">0</div>
      <div class="digit" id="s2">0</div>
    </div>

    <p class="note">*특가 종료 시 할인 전 가격으로 돌아갑니다.</p>
  </main>

  <script>
    // 24시간(무한 반복)
    const DURATION_MS = 24 * 60 * 60 * 1000;

    const d = {
      h1: document.getElementById('h1'),
      h2: document.getElementById('h2'),
      m1: document.getElementById('m1'),
      m2: document.getElementById('m2'),
      s1: document.getElementById('s1'),
      s2: document.getElementById('s2'),
    };

    let endAt = Date.now() + DURATION_MS;

    // 남은 시간을 HH:MM:SS → 개별 자리수로 분해
    function splitDigits(ms){
      const sec = Math.max(0, Math.ceil(ms/1000));      // 드리프트 방지용 ceil
      const h = Math.floor(sec / 3600);
      const m = Math.floor((sec % 3600) / 60);
      const s = sec % 60;
      const HH = String(h).padStart(2, '0');
      const MM = String(m).padStart(2, '0');
      const SS = String(s).padStart(2, '0');
      return [HH[0], HH[1], MM[0], MM[1], SS[0], SS[1]];
    }

    function render(){
      const now = Date.now();
      let remain = endAt - now;

      if (remain <= 0){
        // 즉시 새 사이클
        endAt = now + DURATION_MS;
        remain = endAt - now;
      }

      const [H1,H2,M1,M2,S1,S2] = splitDigits(remain);
      d.h1.textContent = H1; d.h2.textContent = H2;
      d.m1.textContent = M1; d.m2.textContent = M2;
      d.s1.textContent = S1; d.s2.textContent = S2;
    }

    // 250ms 주기로 업데이트(가볍고 정확)
    setInterval(render, 250);
    render();

    // ▶ 옵션: 매일 자정(로컬) 기준으로 리셋하려면 아래 주석 해제
    /*
    function setToMidnightCycle(){
      const now = new Date();
      const midnight = new Date(now);
      midnight.setHours(24,0,0,0); // 다음 자정
      endAt = midnight.getTime();
      setInterval(()=>{
        const secLeft = Math.ceil((endAt - Date.now())/1000);
        if (secLeft <= 0) endAt += 24*60*60*1000;
      }, 500);
    }
    // setToMidnightCycle();
    */
  </script>
</body>
</html>
